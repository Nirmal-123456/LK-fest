int pirPin = 2;        // PIR sensor output pin
int relayPin = 8;      // Relay control pin
int pirState = LOW;    // PIR state
unsigned long lastMotionTime = 0;
unsigned long delayTime = 10000; // 10 seconds delay to turn off

void setup() {
  pinMode(pirPin, INPUT);
  pinMode(relayPin, OUTPUT);
  digitalWrite(relayPin, LOW); // Turn off bulb initially
  Serial.begin(9600);
}

void loop() {
  int motion = digitalRead(pirPin);

  if (motion == HIGH) {
    digitalWrite(relayPin, HIGH); // Turn on bulb
    lastMotionTime = millis();    // Reset timer
    if (pirState == LOW) {
      Serial.println("Motion detected!");
      pirState = HIGH;
    }
  } 
  else {
    if (pirState == HIGH && (millis() - lastMotionTime >= delayTime)) {
      digitalWrite(relayPin, LOW); // Turn off bulb
      Serial.println("No motion, turning off.");
      pirState = LOW;
    }
  }
}
